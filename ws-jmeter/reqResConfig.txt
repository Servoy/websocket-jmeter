{"msg":{"sessionid":"c6b2ff4f-2cb2-4b94-9352-cdcf9a5c4e4c","windowid":"0c91ce7f-9a2b-49f8-a2d5-559f25be7bd4"}}
{"msg":{},"services":[{"call":"create","args":["0c91ce7f-9a2b-49f8-a2d5-559f25be7bd4","2"],"name":"$windowService"}]}
{"services":[{"call":"setStyleSheets","args":[["resources/fs/test/mystyle.css","resources/fs/test/solution.css"]],"name":"$applicationService"},{"call":"getUtcOffsetsAndLocale","args":null,"name":"$applicationService"}],"smsgid":1}
>{"service":"i18nService","methodname":"getI18NMessages","args":{"0":"servoy.ngclient.reconnecting"},"cmsgid":1}
>{"service":"$windowService","methodname":"resize","args":{"size":{"width":1920,"height":989}}}
>{"smsgid":1,"ret":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.64 Safari/537.36","platform":"Win32","locale":"nl","utcOffset":1,"utcDstOffset":2}}
{"msg":{"services":{"ngclientutils":{"contributedTags":{"vEr":2,"v":[]}}}},"services":[{"call":"setStatusText","args":["Ready"],"name":"$applicationService"},{"call":"updateController","args":["test","\ncontrollerProvider.register(\"test\", function($scope,$servoyInternal,$sabloApplication,$timeout,$formService,$windowService,$log,$propertyWatchesRegistry) {\n\tif ($log.debugEnabled) $log.debug(\"svy * ftl; form 'test' - scope create: \" + $scope.$id);\n\n\tvar beans = {\n\t\t\t\t'lbl': {\"visible\":true,\"anchors\":0,\"enabled\":true,\"transparent\":false,\"showFocus\":true,\"horizontalAlignment\":-1,\"offsetY\":0,\"size\":{\"width\":80,\"height\":50},\"textRotation\":0,\"displaysTags\":false,\"location\":{\"x\":254,\"y\":66},\"text\":\"label en een hele lange text\",\"rolloverCursor\":0,\"tabSeq\":-2,\"verticalAlignment\":0,\"partHeight\":480},\n\t\t\t\t'svy_1073741864': {\"visible\":true,\"anchors\":0,\"enabled\":true,\"transparent\":false,\"showFocus\":true,\"horizontalAlignment\":0,\"offsetY\":0,\"size\":{\"width\":80,\"height\":20},\"textRotation\":0,\"displaysTags\":false,\"location\":{\"x\":239,\"y\":267},\"rolloverCursor\":0,\"tabSeq\":3,\"verticalAlignment\":0,\"partHeight\":480},\n\t\t\t\t'svy_1073741865': {\"visible\":true,\"editable\":true,\"readOnly\":false,\"anchors\":0,\"enabled\":true,\"transparent\":false,\"horizontalAlignment\":-1,\"findmode\":false,\"offsetY\":0,\"size\":{\"width\":140,\"height\":20},\"displaysTags\":false,\"location\":{\"x\":318,\"y\":122},\"text\":\"test\",\"tabSeq\":1,\"partHeight\":480},\n\t\t\t\t'button': {\"visible\":true,\"anchors\":0,\"enabled\":true,\"transparent\":false,\"showFocus\":true,\"horizontalAlignment\":0,\"offsetY\":0,\"size\":{\"width\":80,\"height\":20},\"textRotation\":0,\"displaysTags\":false,\"location\":{\"x\":221,\"y\":189},\"text\":\"button\",\"rolloverCursor\":0,\"tabSeq\":2,\"verticalAlignment\":0,\"partHeight\":480},\n\t\t\t\t'svy_default_navigator': {\"maxIndex\":0,\"size\":\"java.awt.Dimension[width=80,height=80]\",\"hasMore\":false,\"minIndex\":0,\"currentIndex\":0}\n\t\t\t}\n\n\tvar beanTypes = {\n\t\t\t\t'lbl': 'servoydefault-label',\n\t\t\t\t'svy_1073741864': 'servoydefault-button',\n\t\t\t\t'svy_1073741865': 'servoydefault-check',\n\t\t\t\t'button': 'servoydefault-button',\n\t\t\t\t'svy_default_navigator': 'servoycore-navigator'\n\t\t\t}\n\n\tvar formProperties = {\"designSize\":{\"width\":640,\"height\":480},\"size\":{\"width\":640,\"height\":480},\"addMinSize\":false}\n\n\tvar formState = $servoyInternal.initFormState(\"test\", beans, formProperties, $scope, false);\n\tformState.resolving = true;\n\tif ($log.debugEnabled) $log.debug(\"svy * ftl; resolving form = test\");\n\n\t$scope.model = formState.model;\n\t$scope.api = formState.api;\n\t$scope.layout = formState.layout;\n\t$scope.formStyle = formState.style;\n\t$scope.formProperties = formState.properties;\n\t$scope.formname = \"test\";\n\n\t$scope.bodyStyle = {\"overflow-x\": \"auto\",\"overflow-y\": \"auto\",\"position\": \"absolute\",\"left\": \"0px\",\"right\": \"0px\",\"top\": \"0px\",\"bottom\": \"0px\"};\n\n\tvar getExecutor = function(beanName,eventType) {\n\t\tvar callExecutor = function(args, rowId) {\n\t\t\treturn $sabloApplication.getExecutor(\"test\").on(beanName,eventType,null,args,rowId);\n\t\t}\n\t\tvar wrapper = function() {\n\t\t\treturn callExecutor(arguments, null);\n\t\t}\n\t\twrapper.selectRecordHandler = function(rowId) {\n\t\t\treturn function () { return callExecutor(arguments, rowId); }\n\t\t}\n\t\treturn wrapper;\n\t}\n\n\tvar servoyApi = function(beanname) {\n\t\treturn {\n\t\t\tformWillShow: function(formname,relationname,formIndex) {\n\t\t\t\t$formService.formWillShow(formname,true,$scope.formname,beanname,relationname,formIndex);\n\t\t\t},\n\t\t\thideForm: function(formname,relationname,formIndex) {\n\t\t\t\treturn $formService.hideForm(formname,$scope.formname,beanname,relationname,formIndex);\n\t\t\t},\n\t\t\tgetFormUrl: function(formUrl) {\n\t\t\t\treturn $windowService.getFormUrl(formUrl);\n\t\t\t},\n\t\t\tstartEdit: function(propertyName) {\n\t\t\t\t$sabloApplication.callService(\"formService\", \"startEdit\", {formname:$scope.formname,beanname:beanname,property:propertyName},true)\n\t\t\t},\n\t\t\tapply: function(propertyName) {\n\t\t\t\t$servoyInternal.pushDPChange(\"test\", beanname, propertyName);\n\t\t\t},\n\t\t\tcallServerSideApi: function(methodName,args) {\n\t\t\t\treturn $servoyInternal.callServerSideApi(\"test\", beanname, methodName, args);\n\t\t\t}\n\t\t}\n\t}\n\n\t$scope.handlers = {\n\t\t'lbl': {\"svy_servoyApi\":servoyApi('lbl')},\n\t\t'svy_1073741864': {\"svy_servoyApi\":servoyApi('svy_1073741864')},\n\t\t'svy_1073741865': {\"svy_servoyApi\":servoyApi('svy_1073741865')},\n\t\t'button': {\"svy_servoyApi\":servoyApi('button'),onActionMethodID:getExecutor('button', 'onActionMethodID')},\n\t\t'svy_default_navigator': {\"svy_servoyApi\":servoyApi('svy_default_navigator'),setSelectedIndex:getExecutor('svy_default_navigator', 'setSelectedIndex')}\n\t}\n\n\n\tvar wrapper = function(beanName) {\n\t\treturn function(newvalue,oldvalue,property) {\n\t\t\t\tif(oldvalue === newvalue) return;\n\t\t\t\t$servoyInternal.sendChanges(newvalue,oldvalue, \"test\", beanName,property);\n\t\t}\n\t}\n\n\tvar watches = {};\n\n\tformState.handlers = $scope.handlers;\n\n\tformState.addWatches = function (beanNames) {\n\t    // always first remove the existing watches if there are any.\n\t\tformState.removeWatches(beanNames);\n\t\tif (beanNames) {\n\t\t \tfor (var beanName in beanNames) {\n\t\t \t\twatches[beanName] =\t$propertyWatchesRegistry.watchDumbPropertiesForComponent($scope, beanTypes[beanName], $scope.model[beanName], wrapper(beanName));\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t\t\twatches['lbl'] = $propertyWatchesRegistry.watchDumbPropertiesForComponent($scope, beanTypes.lbl, $scope.model.lbl, wrapper('lbl'));\n\t\t\t\t\twatches['svy_1073741864'] = $propertyWatchesRegistry.watchDumbPropertiesForComponent($scope, beanTypes.svy_1073741864, $scope.model.svy_1073741864, wrapper('svy_1073741864'));\n\t\t\t\t\twatches['svy_1073741865'] = $propertyWatchesRegistry.watchDumbPropertiesForComponent($scope, beanTypes.svy_1073741865, $scope.model.svy_1073741865, wrapper('svy_1073741865'));\n\t\t\t\t\twatches['button'] = $propertyWatchesRegistry.watchDumbPropertiesForComponent($scope, beanTypes.button, $scope.model.button, wrapper('button'));\n\t\t}\n\t}\n\n\tformState.removeWatches = function (beanNames) {\n\t\tif (Object.getOwnPropertyNames(watches).length == 0) return false;\n\t\tif (beanNames) {\n\t\t \tfor (var beanName in beanNames) {\n\t\t\t\tif (watches[beanName]) for (unW in watches[beanName]) watches[beanName][unW]();\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var beanName in watches) {\n\t\t\t\tfor (unW in watches[beanName]) watches[beanName][unW]();\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tformState.getScope = function() { return $scope; }\n\n\tformState.addWatches();\n\t\n\tvar formStateWrapper = wrapper('');\n\t$scope.$watch(\"formProperties\", function(newValue, oldValue) {\n\t\tformStateWrapper(newValue, oldValue, undefined);\n\t}, true);\n\n\tvar destroyListenerUnreg = $scope.$on(\"$destroy\", function() {\n\t\tif ($log.debugEnabled) $log.debug(\"svy * ftl; form 'test' - scope destroyed: \" + $scope.$id);\n\t\tdestroyListenerUnreg();\n\t\t$sabloApplication.updateScopeForState(\"test\", null);\n\t\tfor(var key in $scope.api) {\n\t\t\t$scope.api[key] = {};\n\t\t}\t\n\t\tif (formState && formState.removeWatches) {\n\t\t\tif (!$scope.hiddenDivFormDiscarded) {\n\t\t\t\tformState.removeWatches();\n\t\t\t\tdelete formState.removeWatches;\n\t\t\t\tdelete formState.getScope;\n\t\t\t\tdelete formState.addWatches;\n\t\t\t\tdelete formState.handlers;\n\t\t\t\t$sabloApplication.unResolveFormState(\"test\");\n\t\t\t}\n\t\t\tdelete $scope.hiddenDivFormDiscarded;\n\t\t\tdelete formState.resolving;\n\t\t\tformState = null;\n\t\t}\n\t\telse console.log(\"no formstate for test\" + formState + \" \" + $scope.$id);\n\t});\n});\n","solutions/test/forms/test.html?sessionId=c6b2ff4f-2cb2-4b94-9352-cdcf9a5c4e4c",false,"<svy-formload formname=\"test\"><div ng-controller=\"test\" data-svy-name=\"test\" svy-formstyle=\"formStyle\" svy-layout-update svy-autosave  svy-scrollbars='formProperties.scrollbars' class=\"svy-form\">\r\n<div ng-style=\"bodyStyle\" class=\"svy-body\">\r\n<div ng-style=\"layout.lbl\" ng-class=\"'svy-wrapper'\" >\r\n<data-servoydefault-label name='lbl' data-svy-name='test.lbl' svy-model='model.lbl' svy-api='api.lbl' svy-handlers='handlers.lbl' svy-servoyApi='handlers.lbl.svy_servoyApi'>\r\n<\/data-servoydefault-label>\r\n<\/div>\r\n<div ng-style=\"layout.svy_1073741864\" ng-class=\"'svy-wrapper'\" >\r\n<data-servoydefault-button name='svy_1073741864' data-svy-name='test.svy_3CB60F5C-98BC-4F29-BB05-C88019A9AE6C' svy-model='model.svy_1073741864' svy-api='api.svy_1073741864' svy-handlers='handlers.svy_1073741864' svy-servoyApi='handlers.svy_1073741864.svy_servoyApi'>\r\n<\/data-servoydefault-button>\r\n<\/div>\r\n<div ng-style=\"layout.svy_1073741865\" ng-class=\"'svy-wrapper'\" >\r\n<data-servoydefault-check name='svy_1073741865' data-svy-name='test.svy_571B300F-A150-4A03-B9DA-ED33D43FA0E7' svy-model='model.svy_1073741865' svy-api='api.svy_1073741865' svy-handlers='handlers.svy_1073741865' svy-servoyApi='handlers.svy_1073741865.svy_servoyApi'>\r\n<\/data-servoydefault-check>\r\n<\/div>\r\n<div ng-style=\"layout.button\" ng-class=\"'svy-wrapper'\" >\r\n<data-servoydefault-button name='button' data-svy-name='test.button' svy-model='model.button' svy-api='api.button' svy-handlers='handlers.button' svy-servoyApi='handlers.button.svy_servoyApi'>\r\n<\/data-servoydefault-button>\r\n<\/div>\r\n<\/div>\r\n<\/div>\r\n<\/svy-formload>\r\n"],"name":"$windowService"},{"call":"switchForm","args":["0c91ce7f-9a2b-49f8-a2d5-559f25be7bd4",{"size":{"width":640,"height":480},"name":"test"},{"size":{"width":70},"name":"servoycore/navigator/default_navigator_container.html"}],"name":"$windowService"},{"call":"setTitle","args":["0c91ce7f-9a2b-49f8-a2d5-559f25be7bd4","test - Servoy NG Client"],"name":"$windowService"},{"call":"setTitle","args":["0c91ce7f-9a2b-49f8-a2d5-559f25be7bd4","test - test - Servoy NG Client"],"name":"$windowService"}],"conversions":{"msg":{"services":{"ngclientutils":{"contributedTags":"JSON_arr"}}}}}
{"ret":{"servoy.ngclient.reconnecting":"Server connectie verloren, herconnecting.."},"cmsgid":1}
>{"service":"formService","methodname":"formLoaded","args":{"formname":"test"}}
>{"service":"formService","methodname":"requestData","args":{"formname":"test"},"cmsgid":2}
{"ret":[{"":{"visible":true,"findmode":false,"enabled":true},"button":{"svyMarkupId":"191363af3b415f13d09772224649bcb0","format":{"allowedCharacters":null,"isMask":false,"edit":null,"display":null,"type":"TEXT","placeHolder":null,"isNumberValidator":false},"dataProviderID":"MyButton","enabled":true},"lbl":{"svyMarkupId":"feb32eb795e4ae0a3b78ef35fb085730","format":{"allowedCharacters":null,"isMask":false,"edit":null,"display":null,"type":"TEXT","placeHolder":null,"isNumberValidator":false},"enabled":true},"svy_1073741864":{"svyMarkupId":"08ee40cedf20c6400428b3506880ff03","format":{"allowedCharacters":null,"isMask":false,"edit":null,"display":null,"type":"TEXT","placeHolder":null,"isNumberValidator":false},"enabled":true},"svy_1073741865":{"svyMarkupId":"48488ca3fc3082edd40af6e44fdaf138","enabled":true},"svy_default_navigator":{"svyMarkupId":"313231114bf589395019800cc5413101","maxIndex":0,"hasMore":false,"minIndex":0,"currentIndex":0}}],"cmsgid":2}
>{"service":"formService","methodname":"dataPush","args":{"formname":"test","beanname":"","changes":{"size":{"width":1850,"height":989}}}}
>{"service":"formService","methodname":"executeEvent","args":{"formname":"test","beanname":"button","event":"onActionMethodID","args":[{"type":"event","eventName":"onActionMethodID","modifiers":0,"timestamp":3261.135,"x":333,"y":194}],"changes":{}},"cmsgid":3}
{"ret":null,"cmsgid":3}